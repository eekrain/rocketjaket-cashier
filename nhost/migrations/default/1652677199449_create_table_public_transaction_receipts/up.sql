CREATE TABLE "public"."transaction_receipts" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "transaction_invoice_number" text NOT NULL, "receipt_type" text NOT NULL, "is_sent" boolean NOT NULL, "customer_id" uuid NOT NULL, "created_at" timestamptz NOT NULL DEFAULT now(), PRIMARY KEY ("id") , FOREIGN KEY ("receipt_type") REFERENCES "public"."transaction_receipt_type_enum"("receipt_type") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("transaction_invoice_number") REFERENCES "public"."transaction"("invoice_number") ON UPDATE cascade ON DELETE cascade, FOREIGN KEY ("customer_id") REFERENCES "public"."customers"("id") ON UPDATE cascade ON DELETE no action);
CREATE EXTENSION IF NOT EXISTS pgcrypto;
